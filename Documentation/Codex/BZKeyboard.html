<!DOCTYPE html>
<html lang="fr">
<head>
<title>BZScene bibliothèque multimédia 2D, 3D et audio: BZKeyboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="PasDoc 0.15.0">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script src="tipuesearch/jquery.min.js"></script>
<script src="tipuesearch/tipuesearch_content.js"></script>
<link rel="stylesheet" type="text/css" href="tipuesearch/tipuesearch.css">
<script src="tipuesearch/tipuesearch_set.js"></script>
<script src="tipuesearch/tipuesearch.js"></script>

<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body>
<div class="container"><div class="navigation">
<h2><a href="index.html">BZScene bibliothèque multimédia 2D, 3D et audio</a></h2><ul><li><a href="AllUnits.html">Unités</a></li><li><a href="ClassHierarchy.html">Hiérarchie des classes</a></li><li><a href="AllClasses.html">Classes, interfaces, enregistrements et objets</a></li><li><a href="AllTypes.html">Types</a></li><li><a href="AllVariables.html">Variables</a></li><li><a href="AllConstants.html">Constantes</a></li><li><a href="AllFunctions.html">Fonctions et procédures</a></li><li><a href="AllIdentifiers.html">Identificateurs</a></li><li><form class="search-form" action="_tipue_results.html"><div class="search-input"><input type="text" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required><div class="search-button"><input type="button" id="tipue_search_button" onclick="this.form.submit();"></div></div></form>
<div style="clear: both"></div>
</li></ul></div><div class="content">
<h1 class="unit">Unité BZKeyboard</h1>
<div class="sections">
<div class="one_section"><a class="section" href="#PasDoc-Description">Description</a></div><div class="one_section"><a class="section" href="#PasDoc-Uses">Uses</a></div><div class="one_section">Classes, interfaces, enregistrements et objets</div><div class="one_section"><a class="section" href="#PasDoc-FuncsProcs">Fonctions et procédures</a></div><div class="one_section"><a class="section" href="#PasDoc-Types">Types</a></div><div class="one_section"><a class="section" href="#PasDoc-Constants">Constantes</a></div><div class="one_section"><a class="section" href="#PasDoc-Variables">Variables</a></div></div>
<span id="PasDoc-Description"></span><h2 class="description">Description</h2>
<p>
Contient des méthodes qui Fournissent l'état à la demande de toute touche appuyée sur le clavier.<br> Et un ensemble de fonctions pour travailler avec des codes de touches virtuelles.</p>
<p>


<p>  Notez que Windows mappe les boutons de la souris avec des codes de touches virtuelles et que vous   utiliser les fonctions / classes de cette unité pour vérifier également les boutons de la souris.<br>   Reportez-vous à la section 'Codes Touches virtuelles' dans les révisions des programmeurs Win32 pour une liste de constantes de code de touches (les constantes VK_ * sont déclarées dans l'unité 'Windows').

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p>  Historique : <br> </p>

<ul class="paragraph_spacing">
  <li><p>04/05/2018 : Creation </p></li>
</ul>

<p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p><strong>Notes</strong> :

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p><strong>Dependances</strong> : Aucune

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p><strong>Credits :</strong><br> </p>

<ul class="paragraph_spacing">
  <li><p>J.Delauney (BeanzMaster)</p></li>
</ul>

<p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;

<p><strong>LICENCE</strong> : MPL / LGPL

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</p>
<span id="PasDoc-Uses"></span><h2 class="uses">Uses</h2>
<ul class="useslist"><li>lcltype</li><li>lclintf</li><li>classes</li><li>x</li><li>xlib</li><li>KeySym</li></ul><h2 class="overview">Aperçu</h2>
<span id="PasDoc-FuncsProcs"></span><h3 class="summary">Fonctions et procédures</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#IsKeyDown">IsKeyDown</a></strong>(c : Char) : Boolean; overload;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#IsKeyDown">IsKeyDown</a></strong>(vk : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>) : Boolean; overload;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#KeyPressed">KeyPressed</a></strong>(minVkCode : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a> = 0) : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#VirtualKeyCodeToKeyName">VirtualKeyCodeToKeyName</a></strong>(vk : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>) : String;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#KeyNameToVirtualKeyCode">KeyNameToVirtualKeyCode</a></strong>(const keyName : String) : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#CharToVirtualKeyCode">CharToVirtualKeyCode</a></strong>(c : Char) : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>procedure <strong><a  href="BZKeyboard.html#KeyboardNotifyWheelMoved">KeyboardNotifyWheelMoved</a></strong>(wheelDelta : Integer);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <strong><a  href="BZKeyboard.html#GetBufferKeyState">GetBufferKeyState</a></strong>(Var Buffer: <a  href="BZKeyboard.html#TBZKeyBufferState">TBZKeyBufferState</a>):Byte;</code></td>
</tr>
</table>
<span id="PasDoc-Types"></span><h3 class="summary">Types</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><strong><a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a></strong> = Integer;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code><strong><a  href="BZKeyboard.html#TBZKeyBufferState">TBZKeyBufferState</a></strong> = array[0..255] of byte;</code></td>
</tr>
</table>
<span id="PasDoc-Constants"></span><h3 class="summary">Constantes</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><strong><a  href="BZKeyboard.html#VK_MOUSEWHEELUP">VK_MOUSEWHEELUP</a></strong>   = VK_F23;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code><strong><a  href="BZKeyboard.html#VK_MOUSEWHEELDOWN">VK_MOUSEWHEELDOWN</a></strong> = VK_F24;</code></td>
</tr>
</table>
<span id="PasDoc-Variables"></span><h3 class="summary">Variables</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><strong><a  href="BZKeyboard.html#vLastWheelDelta">vLastWheelDelta</a></strong>: Integer;</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Fonctions et procédures</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="IsKeyDown"></span><code>function <strong>IsKeyDown</strong>(c : Char) : Boolean; overload;</code></td>
</tr>
<tr><td colspan="1">
<p>
Vérifie si la touche correspondant au &quot;char&quot; donné est appuyée.</p>
<p>


<p>  Le caractère est mappé sur le &quot;clavier principal&quot; uniquement, et non sur le clavier numérique.(virtuel) <br>   Les combinaisons Shift / Ctrl / Alt qui peuvent être nécessaires pour taper les caractères spéciaux sont ignorés. <br> C'est à dire que 'a' équivaut à 'A' et sur mon clavier français '5' = '(' = '[' car ils ont tous le même Code de touche physique).</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="IsKeyDown"></span><code>function <strong>IsKeyDown</strong>(vk : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>) : Boolean; overload;</code></td>
</tr>
<tr><td colspan="1">
<p>
Vérifie si la touche correspondant au &quot;Code Virtuel&quot; donné est appuyée. <br> Cette fonction est juste là pour englober &quot;GetKeyState&quot;.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="KeyPressed"></span><code>function <strong>KeyPressed</strong>(minVkCode : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a> = 0) : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>;</code></td>
</tr>
<tr><td colspan="1">
<p>
Renvoie la première touche enfoncée dont le code virtuelle est &gt;= à minVkCode. <br>   Si aucune touche n'est enfoncée, la valeur de retour est -1. Cette fonction n'attend PAS la saisie de l'utilisateur. <br>   Si vous ne vous souciez pas de plusieurs pressions de touches, n'utilisez pas le paramètre.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="VirtualKeyCodeToKeyName"></span><code>function <strong>VirtualKeyCodeToKeyName</strong>(vk : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>) : String;</code></td>
</tr>
<tr><td colspan="1">
<p>
Convertit un code de touche virtuel vers son nom Le nom est exprimé à l'aide des paramètres locale de l'OS.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="KeyNameToVirtualKeyCode"></span><code>function <strong>KeyNameToVirtualKeyCode</strong>(const keyName : String) : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>;</code></td>
</tr>
<tr><td colspan="1">
<p>
Convertit un nom de touche en son code virtuel.<br>   La comparaison n'est PAS sensible à la casse. Si aucune correspondance n'est trouvée, retourne -1.<br>   Le nom est exprimé à l'aide des paramètres locale de l'OS., sauf pour les boutons de la souris  qui sont traduits en 'LBUTTON', 'MBUTTON' et 'RBUTTON'.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="CharToVirtualKeyCode"></span><code>function <strong>CharToVirtualKeyCode</strong>(c : Char) : <a  href="BZKeyboard.html#TBZVirtualKeyCode">TBZVirtualKeyCode</a>;</code></td>
</tr>
<tr><td colspan="1">
<p>
Renvoie le code virtuel correspondant au caractère donné. <br>   Le code renvoyé n'est pas traduit, exemple : 'a' et 'A' donneront le même résultat. <br> Une valeur de retour de -1 signifie que le caractère n'est peut être pas entré en utilisant le clavier physique.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="KeyboardNotifyWheelMoved"></span><code>procedure <strong>KeyboardNotifyWheelMoved</strong>(wheelDelta : Integer);</code></td>
</tr>
<tr><td colspan="1">
<p>
Utilisez cette procédure pour informer le mouvement de la roue de la souris et simuler l'appui d'une touche (<a class="normal" href="BZKeyboard.html#VK_MOUSEWHEELUP">VK_MOUSEWHEELUP</a>/<a class="normal" href="BZKeyboard.html#VK_MOUSEWHEELDOWN">VK_MOUSEWHEELDOWN</a>), qui sera intercepté par <a class="normal" href="BZKeyboard.html#IsKeyDown">IsKeyDown</a> et/ou <a class="normal" href="BZKeyboard.html#KeyPressed">KeyPressed</a>. <br> A placer dans les évènement OnMouseWheel des controles graphique (form, tpanel ect...)</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="GetBufferKeyState"></span><code>function <strong>GetBufferKeyState</strong>(Var Buffer: <a  href="BZKeyboard.html#TBZKeyBufferState">TBZKeyBufferState</a>):Byte;</code></td>
</tr>
<tr><td colspan="1">
<p>
Renvoie le nombre de touche pressées silmutanément et le buffer contenant l'etat des touche.</p>
<p>
 Example : <br> </p>

<pre class="longcode">
HitKeyCount := GetBufferKeyState(Buffer);
<span class="pascal_keyword">if</span> HitKeyCount&gt;<span class="pascal_numeric">0</span> <span class="pascal_keyword">then</span>
<span class="pascal_keyword">begin</span>
  <span class="pascal_keyword">if</span> ((Buffer[VK_NUMPAD1] <span class="pascal_keyword">and</span> <span class="pascal_hex">$80</span>) &lt;&gt; <span class="pascal_numeric">0</span>) <span class="pascal_keyword">and</span> ((Buffer[VK_RSHIFT] <span class="pascal_keyword">and</span> <span class="pascal_hex">$80</span>) &lt;&gt; <span class="pascal_numeric">0</span>) <span class="pascal_keyword">then</span> inputkey := <span class="pascal_numeric">1</span>
  <span class="pascal_keyword">else</span> <span class="pascal_keyword">if</span> ((Buffer[VK_NUMPAD2] <span class="pascal_keyword">and</span> <span class="pascal_hex">$80</span>) &lt;&gt; <span class="pascal_numeric">0</span>) <span class="pascal_keyword">then</span> inputkey := <span class="pascal_numeric">2</span>;
<span class="pascal_keyword">end</span>;</pre>

<p></p>
</td></tr>
</table>
<h3 class="detail">Types</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="TBZVirtualKeyCode"></span><code><strong>TBZVirtualKeyCode</strong> = Integer;</code></td>
</tr>
<tr><td colspan="1">
<p>
Code d'une touche virtuelle</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="TBZKeyBufferState"></span><code><strong>TBZKeyBufferState</strong> = array[0..255] of byte;</code></td>
</tr>
<tr><td colspan="1">
<p>
Tampon de stockage, de l'état des touches pressées (code de 0 à 255)</p>
</td></tr>
</table>
<h3 class="detail">Constantes</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="VK_MOUSEWHEELUP"></span><code><strong>VK_MOUSEWHEELUP</strong>   = VK_F23;</code></td>
</tr>
<tr><td colspan="1">
<p>
pseudo touche pour la roulette de la souris vers le haut (nous réaffectons la touche F23), voir &quot;<a class="normal" href="BZKeyboard.html#KeyboardNotifyWheelMoved">KeyboardNotifyWheelMoved</a>&quot;</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="VK_MOUSEWHEELDOWN"></span><code><strong>VK_MOUSEWHEELDOWN</strong> = VK_F24;</code></td>
</tr>
<tr><td colspan="1">
<p>
pseudo touche pour la roulette de la souris vers le bas (nous réaffectons la touche F23), voir &quot;<a class="normal" href="BZKeyboard.html#KeyboardNotifyWheelMoved">KeyboardNotifyWheelMoved</a>&quot;</p>
</td></tr>
</table>
<h3 class="detail">Variables</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="vLastWheelDelta"></span><code><strong>vLastWheelDelta</strong>: Integer;</code></td>
</tr>
<tr><td colspan="1">
<p>
Variable globale du dernier état de la roulette de la souris</p>
</td></tr>
</table>
<h2 class="authors">Auteur</h2>
<ul class="authors">
<li>J.Delauney</li>
</ul>
<h2 class="created">Crée</h2>
<p>
2018-05-04
</p>
<hr><span class="appinfo"><em>Produit par <a  href="https://github.com/pasdoc/pasdoc/wiki">PasDoc 0.15.0</a>. </em>
</span>
</div></div><script>
$(window).resize(function(){
var height = $('.navigation').height() + 15;//take the header height
$('.content').css({'padding-top':height});//alter the margin of the wrapped content
}).trigger('resize');//trigger the margin resize when page is loaded
</script></body></html>
